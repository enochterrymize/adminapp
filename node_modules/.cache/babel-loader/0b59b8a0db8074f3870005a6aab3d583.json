{"ast":null,"code":"import _slicedToArray from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{connect}from'react-redux';import{useSelector,useDispatch}from'react-redux';import{TabContent,TabPane,Nav,NavItem,NavLink}from'reactstrap';import four from'../../../assets/images/user/4.jpg';import one from'../../../assets/images/user/1.jpg';import two from'../../../assets/images/user/2.png';import start_conversion from'../../../assets/images/start-conversion.jpg';import errorImg from'../../../assets/images/search-not-found.png';// import Custom Componenets\nimport Breadcrumb from'../../common/breadcrumb';import{getAllChats,changeChat,searchMember,sendMessage,createNewChat,replyByUser}from'../../../actions/chat.action';var images=require.context('../../../assets/images',true);var Chat=function Chat(_ref){var getAllChats=_ref.getAllChats,changeChat=_ref.changeChat,createNewChat=_ref.createNewChat,searchMember=_ref.searchMember,sendMessage=_ref.sendMessage,replyByUser=_ref.replyByUser;var allMembers=useSelector(function(content){return content.ChatApp.allMembers;});var chats=useSelector(function(content){return content.ChatApp.chats;});var selectedUser=useSelector(function(content){return content.ChatApp.selectedUser;});var currentUser=useSelector(function(content){return content.ChatApp.currentUser;});var online=useSelector(function(content){return content.ChatApp.online;});var members=useSelector(function(content){return content.ChatApp.members;});var dispatch=useDispatch();useEffect(function(){var currentUserId=0;dispatch({type:'GET_MEMBERS_SUCCESS'});getAllChats(currentUserId);// eslint-disable-next-line\n},[]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchKeyword=_useState2[0],setSearchKeyword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),messageInput=_useState4[0],setMessageInput=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),menuToggle=_useState6[0],setMenuToggle=_useState6[1];var changeChatClick=function changeChatClick(e,selectedUserId){handleSearchKeyword('');var currentChat=chats.find(function(x){return x.users.includes(currentUser.id)&&x.users.includes(selectedUserId);});if(currentChat){changeChat(selectedUserId);}else{createNewChat(currentUser.id,selectedUserId,chats);}};var handleSearchKeyword=function handleSearchKeyword(keyword){setSearchKeyword(keyword);searchMember(keyword);};var handleMessageChange=function handleMessageChange(message){setMessageInput(message);};var handleMessagePress=function handleMessagePress(e){if(e.key===\"Enter\"||e===\"send\"){var container=document.querySelector(\".chat-history\");setTimeout(function(){container.scrollBy({top:200,behavior:'smooth'});},310);var currentUserId=currentUser.id;var selectedUserId=selectedUser.id;var selectedUserName=selectedUser.name;if(messageInput.length>0){sendMessage(currentUserId,selectedUserId,messageInput,chats,online);setMessageInput('');setTimeout(function(){var replyMessage=\"Hey This is \"+selectedUserName+\", Sorry I busy right now, I will text you later\";if(selectedUser.online===true)document.querySelector(\".status-circle\").classList.add('online');selectedUser.online=true;replyByUser(currentUserId,selectedUserId,replyMessage,chats,online);},5000);}}};var dynamicImage=function dynamicImage(image){return images(\"./\".concat(image));};var chatMenuToggle=function chatMenuToggle(){setMenuToggle(!menuToggle);};var selectedChat=allMembers&&chats&&selectedUser?chats.find(function(x){return x.users.includes(currentUser.id)&&x.users.includes(selectedUser.id);}):null;var activeChat=0;if(selectedUser!=null)activeChat=selectedUser.id;var _useState7=useState('1'),_useState8=_slicedToArray(_useState7,2),activeTab=_useState8[0],setActiveTab=_useState8[1];return allMembers&&chats?React.createElement(\"div\",null,React.createElement(Breadcrumb,{title:\"Chat App\",parent:\"Chat\"}),React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col call-chat-sidebar col-sm-12\"},React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-body chat-body\"},React.createElement(\"div\",{className:\"chat-box\"},React.createElement(\"div\",{className:\"chat-left-aside\"},React.createElement(\"div\",{className:\"media\"},React.createElement(\"img\",{src:dynamicImage(currentUser.thumb),className:\"rounded-circle user-image\",alt:\"\"}),React.createElement(\"div\",{className:\"about\"},React.createElement(\"div\",{className:\"name f-w-600\"},currentUser.name),React.createElement(\"div\",{className:\"status\"},currentUser.status))),React.createElement(\"div\",{className:\"people-list custom-scrollbar\",id:\"people-list\"},React.createElement(\"div\",{className:\"search\"},React.createElement(\"form\",{className:\"theme-form\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"search\",defaultValue:searchKeyword,onChange:function onChange(e){return handleSearchKeyword(e.target.value);}}),React.createElement(\"i\",{className:\"fa fa-search\"})))),React.createElement(\"ul\",{className:\"list\"},searchKeyword!==''&&members.filter(function(x){return x.id!==currentUser.id;}).map(function(item,i){return React.createElement(\"li\",{className:\"clearfix \".concat(selectedUser.id===item.id?'active':''),key:i,onClick:function onClick(e){return changeChatClick(e,item.id);}},React.createElement(\"img\",{src:dynamicImage(item.thumb),className:\"rounded-circle user-image\",alt:\"\"}),React.createElement(\"div\",{className:\"status-circle offline\"}),React.createElement(\"div\",{className:\"about\"},React.createElement(\"div\",{className:\"name\"},item.name),React.createElement(\"div\",{className:\"status\"},item.status)));}),searchKeyword===''?chats.map(function(item,i){var Othermember=allMembers.find(function(u){return u.id===item.users.find(function(x){return x!==currentUser.id;});});return React.createElement(\"li\",{className:\"clearfix \".concat(activeChat===Othermember.id?'active':''),key:i,onClick:function onClick(e){return changeChatClick(e,Othermember.id);}},React.createElement(\"img\",{src:dynamicImage(Othermember.thumb),className:\"rounded-circle user-image\",alt:\"\"}),React.createElement(\"div\",{className:\"status-circle \".concat(Othermember.online===true?'online':'offline')}),React.createElement(\"div\",{className:\"about\"},React.createElement(\"div\",{className:\"name\"},Othermember.name),React.createElement(\"div\",{className:\"status\"},Othermember.status)));}):React.createElement(\"img\",{className:\"img-fluid\",src:errorImg,alt:\"\"})))))))),React.createElement(\"div\",{className:\"col call-chat-body\"},React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-body p-0\"},React.createElement(\"div\",{className:\"row chat-box\"},React.createElement(\"div\",{className:\"col pr-0 chat-right-aside\"},React.createElement(\"div\",{className:\"chat\"},React.createElement(\"div\",{className:\"chat-header clearfix\"},React.createElement(\"img\",{src:dynamicImage(selectedUser.thumb),className:\"rounded-circle\",alt:\"\"}),React.createElement(\"div\",{className:\"about\"},React.createElement(\"div\",{className:\"name\"},selectedUser.name),React.createElement(\"div\",{className:\"status digits\"},selectedUser.online?'online':selectedUser.lastSeenDate)),React.createElement(\"ul\",{className:\"list-inline float-left float-sm-right chat-menu-icons\"},React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"icon-search\"}))),React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"icon-clip\"}))),React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"icon-headphone-alt\"}))),React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"icon-video-camera\"}))),React.createElement(\"li\",{className:\"list-inline-item toogle-bar\",onClick:function onClick(){return chatMenuToggle();}},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"icon-menu\"}))))),React.createElement(\"div\",{className:\"chat-history chat-msg-box custom-scrollbar\"},React.createElement(\"ul\",null,selectedChat.messages.length>0?selectedChat.messages.map(function(item,index){var participators=allMembers.find(function(x){return x.id===item.sender;});return React.createElement(\"li\",{key:index,className:\"clearfix\"},React.createElement(\"div\",{className:\"message my-message \".concat(item.sender!==currentUser.id?'':'float-right')},React.createElement(\"img\",{src:dynamicImage(participators.thumb),className:\"rounded-circle \".concat(item.sender!==currentUser.id?'float-left':'float-right',\" chat-user-img img-30\"),alt:\"\"}),React.createElement(\"div\",{className:\"message-data text-right\"},React.createElement(\"span\",{className:\"message-data-time\"},item.time)),item.text));}):React.createElement(\"div\",null,React.createElement(\"img\",{className:\"img-fluid\",src:start_conversion,alt:\"start conversion \"})))),React.createElement(\"div\",{className:\"chat-message clearfix\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xl-12 d-flex\"},React.createElement(\"div\",{className:\"smiley-box bg-primary\"},React.createElement(\"div\",{className:\"picker\"},React.createElement(\"img\",{src:require('../../../assets/images/smiley.png'),className:\"\",alt:\"\"}))),React.createElement(\"div\",{className:\"input-group text-box\"},React.createElement(\"input\",{type:\"text\",className:\"form-control input-txt-bx\",placeholder:\"Type a message......\",value:messageInput,onKeyPress:function onKeyPress(e){return handleMessagePress(e);},onChange:function onChange(e){return handleMessageChange(e.target.value);}}),React.createElement(\"div\",{className:\"input-group-append\"},React.createElement(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:function onClick(){return handleMessagePress('send');}},\"SEND\")))))))),React.createElement(\"div\",{className:\"col pl-0 chat-menu \".concat(menuToggle?'show':'')},React.createElement(Nav,{tabs:true,className:\"borderb-tab-primary\"},React.createElement(NavItem,{className:\"nav nav-tabs\",id:\"myTab\",role:\"tablist\"},React.createElement(NavLink,{className:activeTab==='1'?'active':'',onClick:function onClick(){return setActiveTab('1');}},\"CALL\")),React.createElement(NavItem,{className:\"nav nav-tabs\",id:\"myTab\",role:\"tablist\"},React.createElement(NavLink,{className:activeTab==='2'?'active':'',onClick:function onClick(){return setActiveTab('2');}},\"STATUS\")),React.createElement(NavItem,{className:\"nav nav-tabs\",id:\"myTab\",role:\"tablist\"},React.createElement(NavLink,{className:activeTab==='3'?'active':'',onClick:function onClick(){return setActiveTab('3');}},\"PROFILE\"))),React.createElement(TabContent,{activeTab:activeTab},React.createElement(TabPane,{tabId:\"1\"},React.createElement(\"div\",{className:\"people-list\"},React.createElement(\"ul\",{className:\"list digits custom-scrollbar\"},React.createElement(\"li\",{className:\"clearfix\"},React.createElement(\"img\",{className:\"rounded-circle user-image\",src:four,alt:\"\"}),React.createElement(\"div\",{className:\"about\"},React.createElement(\"div\",{className:\"name\"},\"Erica Hughes\"),React.createElement(\"div\",{className:\"status\"},React.createElement(\"i\",{className:\"fa fa-share font-success\"}),\"  5 May, 4:40 PM\"))),React.createElement(\"li\",{className:\"clearfix\"},React.createElement(\"img\",{className:\"rounded-circle user-image mt-0\",src:one,alt:\"\"}),React.createElement(\"div\",{className:\"about\"},React.createElement(\"div\",{className:\"name\"},\"Vincent Porter\",React.createElement(\"div\",{className:\"status\"},React.createElement(\"i\",{className:\"fa fa-reply font-danger\"}),\"  5 May, 5:30 PM\")))),allMembers.filter(function(x){return x.id!==currentUser.id;}).map(function(member,i){return React.createElement(\"li\",{className:\"clearfix\",key:i,onClick:function onClick(e){return changeChatClick(e,member.id);}},React.createElement(\"img\",{src:dynamicImage(member.thumb),className:\"rounded-circle user-image\",alt:\"\"}),React.createElement(\"div\",{className:\"about\"},React.createElement(\"div\",{className:\"name\"},member.name),React.createElement(\"div\",{className:\"status\"},member.reply,member.status)));})))),React.createElement(TabPane,{tabId:\"2\"},React.createElement(\"div\",{className:\"people-list\"},React.createElement(\"div\",{className:\"search\"},React.createElement(\"form\",{className:\"theme-form\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Write Status...\"}),React.createElement(\"i\",{className:\"fa fa-pencil\"}))))),React.createElement(\"div\",{className:\"status\"},React.createElement(\"p\",{className:\"font-dark\"},\"Active\"),React.createElement(\"hr\",null),React.createElement(\"p\",null,\"Established fact that a reader will be distracted \\xA0\",React.createElement(\"i\",{className:\"icofont icofont-emo-heart-eyes font-danger f-20\"}),React.createElement(\"i\",{className:\"icofont icofont-emo-heart-eyes font-danger f-20 m-l-5\"})),React.createElement(\"hr\",null),React.createElement(\"p\",null,\"Dolore magna aliqua \\xA0\",React.createElement(\"i\",{className:\"icofont icofont-emo-rolling-eyes font-success f-20\"})))),React.createElement(TabPane,{tabId:\"3\"},React.createElement(\"div\",{className:\"user-profile\"},React.createElement(\"div\",{className:\"image\"},React.createElement(\"div\",{className:\"avatar text-center\"},React.createElement(\"img\",{alt:\"\",src:two})),React.createElement(\"div\",{className:\"icon-wrapper\"},React.createElement(\"i\",{className:\"icofont icofont-pencil-alt-5\"}))),React.createElement(\"div\",{className:\"user-content text-center\"},React.createElement(\"h5\",{className:\"text-uppercase\"},\"mark jenco\"),React.createElement(\"div\",{className:\"social-media\"},React.createElement(\"ul\",{className:\"list-inline\"},React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"fa fa-facebook\"}))),React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"fa fa-google-plus\"}))),React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"fa fa-twitter\"}))),React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"fa fa-instagram\"}))),React.createElement(\"li\",{className:\"list-inline-item\"},React.createElement(\"a\",{href:\"#javascript\"},React.createElement(\"i\",{className:\"fa fa-rss\"}))))),React.createElement(\"hr\",null),React.createElement(\"div\",{className:\"follow text-center\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col border-right\"},React.createElement(\"span\",null,\"Following\"),React.createElement(\"div\",{className:\"follow-num\"},\"236k\")),React.createElement(\"div\",{className:\"col\"},React.createElement(\"span\",null,\"Follower\"),React.createElement(\"div\",{className:\"follow-num\"},\"3691k\")))),React.createElement(\"hr\",null),React.createElement(\"div\",{className:\"text-center digits\"},React.createElement(\"p\",{className:\"mb-0\"},\"Mark.jecno23@gmail.com\"),React.createElement(\"p\",{className:\"mb-0\"},\"+91 365 - 658 - 1236\"),React.createElement(\"p\",{className:\"mb-0\"},\"Fax: 123-4560\")))))))))))))):React.createElement(\"div\",{className:\"loading\"});};var mapStateToProps=function mapStateToProps(_ref2){var ChatApp=_ref2.ChatApp;return{ChatApp:ChatApp};};export default connect(mapStateToProps,{getAllChats:getAllChats,changeChat:changeChat,searchMember:searchMember,sendMessage:sendMessage,createNewChat:createNewChat,replyByUser:replyByUser})(Chat);","map":{"version":3,"sources":["/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/src/components/applications/chat-app/chat.js"],"names":["React","useEffect","useState","connect","useSelector","useDispatch","TabContent","TabPane","Nav","NavItem","NavLink","four","one","two","start_conversion","errorImg","Breadcrumb","getAllChats","changeChat","searchMember","sendMessage","createNewChat","replyByUser","images","require","context","Chat","allMembers","content","ChatApp","chats","selectedUser","currentUser","online","members","dispatch","currentUserId","type","searchKeyword","setSearchKeyword","messageInput","setMessageInput","menuToggle","setMenuToggle","changeChatClick","e","selectedUserId","handleSearchKeyword","currentChat","find","x","users","includes","id","keyword","handleMessageChange","message","handleMessagePress","key","container","document","querySelector","setTimeout","scrollBy","top","behavior","selectedUserName","name","length","replyMessage","classList","add","dynamicImage","image","chatMenuToggle","selectedChat","activeChat","activeTab","setActiveTab","thumb","status","target","value","filter","map","item","i","Othermember","u","lastSeenDate","messages","index","participators","sender","time","text","member","reply","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport four from '../../../assets/images/user/4.jpg';\nimport one from '../../../assets/images/user/1.jpg';\nimport two from '../../../assets/images/user/2.png';\nimport start_conversion from '../../../assets/images/start-conversion.jpg';\nimport errorImg from '../../../assets/images/search-not-found.png';\n// import Custom Componenets\nimport Breadcrumb from '../../common/breadcrumb';\n\nimport {\n    getAllChats,\n    changeChat,\n    searchMember,\n    sendMessage,\n    createNewChat,\n    replyByUser,\n} from '../../../actions/chat.action';\n\nvar images = require.context('../../../assets/images', true);\n\n\nconst Chat = ({ getAllChats, changeChat, createNewChat, searchMember, sendMessage, replyByUser }) => {\n    const allMembers = useSelector(content => content.ChatApp.allMembers);\n    const chats = useSelector(content => content.ChatApp.chats);\n    const selectedUser = useSelector(content => content.ChatApp.selectedUser);\n    const currentUser = useSelector(content => content.ChatApp.currentUser);\n    const online = useSelector(content => content.ChatApp.online);\n    const members = useSelector(content => content.ChatApp.members);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const currentUserId = 0;\n        dispatch({ type: 'GET_MEMBERS_SUCCESS' });\n        getAllChats(currentUserId);\n        // eslint-disable-next-line\n    }, []);\n\n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [messageInput, setMessageInput] = useState('');\n    const [menuToggle, setMenuToggle] = useState(false);\n\n\n    const changeChatClick = (e, selectedUserId) => {\n        handleSearchKeyword('');\n        const currentChat = chats.find(x => x.users.includes(currentUser.id) && x.users.includes(selectedUserId))\n        if (currentChat) {\n            changeChat(selectedUserId);\n        } else {\n            createNewChat(currentUser.id, selectedUserId, chats)\n        }\n    }\n\n    const handleSearchKeyword = (keyword) => {\n        setSearchKeyword(keyword)\n        searchMember(keyword)\n    }\n\n    const handleMessageChange = (message) => {\n        setMessageInput(message)\n    }\n\n    const handleMessagePress = (e) => {\n        if (e.key === \"Enter\" || e === \"send\") {\n\n            var container = document.querySelector(\".chat-history\");\n            setTimeout(function () {\n                container.scrollBy({ top: 200, behavior: 'smooth' });\n            }, 310)\n\n            let currentUserId = currentUser.id;\n            let selectedUserId = selectedUser.id;\n            let selectedUserName = selectedUser.name;\n\n\n            if (messageInput.length > 0) {\n                sendMessage(currentUserId, selectedUserId, messageInput, chats, online);\n                setMessageInput('');\n\n                setTimeout(() => {\n                    const replyMessage = \"Hey This is \" + selectedUserName + \", Sorry I busy right now, I will text you later\";\n\n                    if (selectedUser.online === true)\n                        document.querySelector(\".status-circle\").classList.add('online');\n\n                    selectedUser.online = true;\n                    replyByUser(currentUserId, selectedUserId, replyMessage, chats, online);\n                }, 5000);\n            }\n        }\n    }\n    const dynamicImage = (image) => {\n        return images(`./${image}`);\n    }\n\n    const chatMenuToggle = () => {\n        setMenuToggle(!menuToggle)\n    }\n\n    const selectedChat = (allMembers && chats && selectedUser) ?\n        chats.find(x => x.users.includes(currentUser.id) && x.users.includes(selectedUser.id)) :\n        null;\n\n    var activeChat = 0;\n    if (selectedUser != null)\n        activeChat = selectedUser.id;\n\n    const [activeTab, setActiveTab] = useState('1');\n    return (\n        (allMembers && chats) ?\n            <div>\n                <Breadcrumb title=\"Chat App\" parent=\"Chat\" />\n\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col call-chat-sidebar col-sm-12\">\n                            <div className=\"card\">\n                                <div className=\"card-body chat-body\">\n                                    <div className=\"chat-box\">\n                                        <div className=\"chat-left-aside\">\n                                            <div className=\"media\">\n                                                <img src={dynamicImage(currentUser.thumb)} className=\"rounded-circle user-image\" alt=\"\" />\n                                                <div className=\"about\">\n                                                    <div className=\"name f-w-600\">{currentUser.name}</div>\n                                                    <div className=\"status\">\n                                                        {currentUser.status}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"people-list custom-scrollbar\" id=\"people-list\">\n                                                <div className=\"search\">\n                                                    <form className=\"theme-form\">\n                                                        <div className=\"form-group\">\n                                                            <input\n                                                                className=\"form-control\"\n                                                                type=\"text\"\n                                                                placeholder=\"search\"\n                                                                defaultValue={searchKeyword}\n                                                                onChange={(e) => handleSearchKeyword(e.target.value)}\n                                                            />\n                                                            <i className=\"fa fa-search\"></i>\n                                                        </div>\n                                                    </form>\n                                                </div>\n                                                <ul className=\"list\">\n                                                    {(searchKeyword !== '') && members.filter(x => x.id !== currentUser.id).map((item, i) => {\n                                                        return (\n                                                            <li className={`clearfix ${selectedUser.id === item.id ? 'active' : ''}`}\n                                                                key={i} onClick={(e) => changeChatClick(e, item.id)}>\n                                                                <img src={dynamicImage(item.thumb)} className=\"rounded-circle user-image\" alt=\"\" />\n                                                                <div className=\"status-circle offline\"></div>\n                                                                <div className=\"about\">\n                                                                    <div className=\"name\">{item.name}</div>\n                                                                    <div className=\"status\">\n                                                                        {item.status}\n                                                                    </div>\n                                                                </div>\n                                                            </li>);\n                                                    })}\n\n                                                    {searchKeyword === '' ? chats.map((item, i) => {\n                                                        const Othermember = allMembers.find(u => u.id === item.users.find(x => x !== currentUser.id))\n                                                        return (\n                                                            <li className={`clearfix ${activeChat === Othermember.id ? 'active' : ''}`}\n                                                                key={i} onClick={(e) => changeChatClick(e, Othermember.id)}>\n                                                                <img src={dynamicImage(Othermember.thumb)}\n                                                                    className=\"rounded-circle user-image\" alt=\"\" />\n                                                                <div className={`status-circle ${Othermember.online === true ? 'online' : 'offline'}`} ></div>\n                                                                <div className=\"about\">\n                                                                    <div className=\"name\">{Othermember.name}</div>\n                                                                    <div className=\"status\">\n                                                                        {Othermember.status}\n                                                                    </div>\n                                                                </div>\n                                                            </li>\n                                                        );\n                                                    }) : \n                                                        <img className=\"img-fluid\" src={errorImg} alt=\"\" />\n                                                    }\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col call-chat-body\">\n                            <div className=\"card\">\n                                <div className=\"card-body p-0\">\n                                    <div className=\"row chat-box\">\n                                        <div className=\"col pr-0 chat-right-aside\">\n                                            <div className=\"chat\">\n                                                <div className=\"chat-header clearfix\">\n                                                    <img src={dynamicImage(selectedUser.thumb)} className=\"rounded-circle\" alt=\"\" />\n                                                    <div className=\"about\">\n                                                        <div className=\"name\">\n                                                            {selectedUser.name}\n                                                        </div>\n                                                        <div className=\"status digits\" >\n                                                            {selectedUser.online ? 'online' : selectedUser.lastSeenDate}\n                                                        </div>\n                                                    </div>\n                                                    <ul className=\"list-inline float-left float-sm-right chat-menu-icons\">\n                                                        <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-search\"></i></a></li>\n                                                        <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-clip\"></i></a></li>\n                                                        <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-headphone-alt\"></i></a></li>\n                                                        <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-video-camera\"></i></a></li>\n                                                        <li className=\"list-inline-item toogle-bar\" onClick={() => chatMenuToggle()}><a href=\"#javascript\"><i className=\"icon-menu\"></i></a></li>\n                                                    </ul>\n                                                </div>\n\n                                                <div className=\"chat-history chat-msg-box custom-scrollbar\" >\n                                                    <ul>\n                                                        {selectedChat.messages.length > 0 ? selectedChat.messages.map((item, index) => {\n                                                            const participators = allMembers.find(x => x.id === item.sender);\n                                                            return (\n                                                                <li key={index} className=\"clearfix\">\n                                                                    <div className={`message my-message ${item.sender !== currentUser.id ? '' : 'float-right'}`}>\n                                                                        <img src={dynamicImage(participators.thumb)}\n                                                                            className={`rounded-circle ${item.sender !== currentUser.id ? 'float-left' : 'float-right'} chat-user-img img-30`} alt=\"\" />\n                                                                        <div className=\"message-data text-right\">\n                                                                            <span className=\"message-data-time\">{item.time}</span>\n                                                                        </div>\n                                                                        {item.text}\n                                                                    </div>\n                                                                </li>\n                                                            );\n                                                        }) :\n                                                            <div>\n                                                                <img className=\"img-fluid\" src={start_conversion} alt=\"start conversion \" />\n                                                            </div>\n                                                        }\n                                                    </ul>\n\n                                                </div>\n                                                <div className=\"chat-message clearfix\">\n                                                    <div className=\"row\">\n                                                        <div className=\"col-xl-12 d-flex\">\n                                                            <div className=\"smiley-box bg-primary\">\n                                                                <div className=\"picker\"><img src={require('../../../assets/images/smiley.png')} className=\"\" alt=\"\" /></div>\n                                                            </div>\n                                                            <div className=\"input-group text-box\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    className=\"form-control input-txt-bx\"\n                                                                    placeholder=\"Type a message......\"\n                                                                    value={messageInput}\n                                                                    onKeyPress={(e) => handleMessagePress(e)}\n                                                                    onChange={(e) => handleMessageChange(e.target.value)}\n                                                                />\n                                                                <div className=\"input-group-append\">\n                                                                    <button className=\"btn btn-primary\" type=\"button\" onClick={() => handleMessagePress('send')} >SEND</button>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className={`col pl-0 chat-menu ${menuToggle ? 'show' : ''}`}>\n                                            <Nav tabs className=\"borderb-tab-primary\">\n                                                <NavItem className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                                                    <NavLink className={activeTab === '1' ? 'active' : ''} onClick={() => setActiveTab('1')}>\n                                                        CALL\n                                                    </NavLink>\n                                                </NavItem>\n                                                <NavItem className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                                                    <NavLink className={activeTab === '2' ? 'active' : ''} onClick={() => setActiveTab('2')}>\n                                                        STATUS\n                                                    </NavLink>\n                                                </NavItem>\n                                                <NavItem className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                                                    <NavLink className={activeTab === '3' ? 'active' : ''} onClick={() => setActiveTab('3')}>\n                                                        PROFILE\n                                                    </NavLink>\n                                                </NavItem>\n                                            </Nav>\n                                            <TabContent activeTab={activeTab}>\n                                                <TabPane tabId=\"1\">\n                                                    <div className=\"people-list\">\n                                                        <ul className=\"list digits custom-scrollbar\">\n                                                            <li className=\"clearfix\"><img className=\"rounded-circle user-image\" src={four} alt=\"\" />\n                                                                <div className=\"about\">\n                                                                    <div className=\"name\">Erica Hughes</div>\n                                                                    <div className=\"status\"><i className=\"fa fa-share font-success\"></i>  5 May, 4:40 PM</div>\n                                                                </div>\n                                                            </li>\n                                                            <li className=\"clearfix\"><img className=\"rounded-circle user-image mt-0\" src={one} alt=\"\" />\n                                                                <div className=\"about\">\n                                                                    <div className=\"name\">Vincent Porter\n                                                                                 <div className=\"status\">\n                                                                            <i className=\"fa fa-reply font-danger\"></i>  5 May, 5:30 PM</div>\n                                                                    </div>\n                                                                </div>\n                                                            </li>\n                                                            {allMembers.filter(x => x.id !== currentUser.id).map((member, i) =>\n                                                                <li className=\"clearfix\" key={i} onClick={(e) => changeChatClick(e, member.id)}>\n                                                                    <img src={dynamicImage(member.thumb)} className=\"rounded-circle user-image\" alt=\"\" />\n                                                                    <div className=\"about\">\n                                                                        <div className=\"name\">{member.name}</div>\n                                                                        <div className=\"status\">\n                                                                            {member.reply}\n                                                                            {member.status}\n                                                                        </div>\n                                                                    </div>\n                                                                </li>\n                                                            )}\n                                                        </ul>\n                                                    </div>\n                                                </TabPane>\n                                                <TabPane tabId=\"2\">\n                                                    <div className=\"people-list\">\n                                                        <div className=\"search\">\n                                                            <form className=\"theme-form\">\n                                                                <div className=\"form-group\">\n                                                                    <input className=\"form-control\" type=\"text\" placeholder=\"Write Status...\" /><i className=\"fa fa-pencil\"></i>\n                                                                </div>\n                                                            </form>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"status\">\n                                                        <p className=\"font-dark\">Active</p>\n                                                        <hr />\n                                                        <p>\n                                                            Established fact that a reader will be\n                                                                    distracted  <i className=\"icofont icofont-emo-heart-eyes font-danger f-20\"></i>\n                                                            <i className=\"icofont icofont-emo-heart-eyes font-danger f-20 m-l-5\"></i>\n                                                        </p>\n                                                        <hr />\n                                                        <p>Dolore magna aliqua  <i className=\"icofont icofont-emo-rolling-eyes font-success f-20\"></i></p>\n                                                    </div>\n                                                </TabPane>\n                                                <TabPane tabId=\"3\">\n                                                    <div className=\"user-profile\">\n                                                        <div className=\"image\">\n                                                            <div className=\"avatar text-center\"><img alt=\"\" src={two} /></div>\n                                                            <div className=\"icon-wrapper\"><i className=\"icofont icofont-pencil-alt-5\"></i></div>\n                                                        </div>\n                                                        <div className=\"user-content text-center\">\n                                                            <h5 className=\"text-uppercase\">mark jenco</h5>\n                                                            <div className=\"social-media\">\n                                                                <ul className=\"list-inline\">\n                                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-facebook\"></i></a></li>\n                                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-google-plus\"></i></a></li>\n                                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-twitter\"></i></a></li>\n                                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-instagram\"></i></a></li>\n                                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-rss\"></i></a></li>\n                                                                </ul>\n                                                            </div>\n                                                            <hr />\n                                                            <div className=\"follow text-center\">\n                                                                <div className=\"row\">\n                                                                    <div className=\"col border-right\"><span>Following</span>\n                                                                        <div className=\"follow-num\">236k</div>\n                                                                    </div>\n                                                                    <div className=\"col\"><span>Follower</span>\n                                                                        <div className=\"follow-num\">3691k</div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                            <hr />\n                                                            <div className=\"text-center digits\">\n                                                                <p className=\"mb-0\">Mark.jecno23@gmail.com</p>\n                                                                <p className=\"mb-0\">+91 365 - 658 - 1236</p>\n                                                                <p className=\"mb-0\">Fax: 123-4560</p>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </TabPane>\n                                            </TabContent>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            : <div className=\"loading\"></div>\n    )\n}\n\nconst mapStateToProps = ({ ChatApp }) => {\n    return { ChatApp };\n}\n\nexport default connect(\n    mapStateToProps, {\n    getAllChats,\n    changeChat,\n    searchMember,\n    sendMessage,\n    createNewChat,\n    replyByUser,\n}\n)(Chat);"]},"metadata":{},"sourceType":"module"}