{"ast":null,"code":"import _slicedToArray from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect,useCallback}from'react';import{MENUITEMS}from'../../../constant/menu';import{Link}from'react-router-dom';import{Search}from'react-feather';var SearchHeader=function SearchHeader(){var mainmenu=MENUITEMS;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setsearchValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),searchOpen=_useState4[0],setsearchOpen=_useState4[1];var escFunction=useCallback(function(event){if(event.keyCode===27){//Do whatever when esc is pressed\nsetsearchOpen(false);setsearchValue('');}},[]);useEffect(function(){document.addEventListener(\"keydown\",escFunction,false);return function(){document.removeEventListener(\"keydown\",escFunction,false);};});var handleSearchKeyword=function handleSearchKeyword(keyword){keyword?addFix():removeFix();var items=[];setsearchValue(keyword);// eslint-disable-next-line\nmainmenu.filter(function(menuItems){if(menuItems.title.toLowerCase().includes(keyword)&&menuItems.type==='link'){items.push(menuItems);}if(!menuItems.children)return false;// eslint-disable-next-line\nmenuItems.children.filter(function(subItems){// eslint-disable-next-line\nif(subItems.title.toLowerCase().includes(keyword)&&subItems.type==='link'){subItems.icon=menuItems.icon;items.push(subItems);// eslint-disable-next-line\n}if(!subItems.children)return false;// eslint-disable-next-line\nsubItems.children.filter(function(suSubItems){if(suSubItems.title.toLowerCase().includes(keyword)){suSubItems.icon=menuItems.icon;items.push(suSubItems);}});});checkSearchResultEmpty(items);setsearchValue(items);});};var checkSearchResultEmpty=function checkSearchResultEmpty(items){if(!items.length){document.querySelector(\".empty-menu\").classList.add('is-open');}else{document.querySelector(\".empty-menu\").classList.remove('is-open');}};var addFix=function addFix(){document.querySelector(\".Typeahead-menu\").classList.add('is-open');document.body.classList.add(\"offcanvas\");};var removeFix=function removeFix(){setsearchValue('');document.querySelector(\".Typeahead-menu\").classList.remove('is-open');document.body.classList.remove(\"offcanvas\");};var toggleBtn=function toggleBtn(){if(searchOpen){setsearchOpen(!searchOpen);document.querySelector('.searchIcon').classList.add('open');}else{setsearchOpen(!searchOpen);document.querySelector('.searchIcon').classList.remove('open');}};return React.createElement(Fragment,null,React.createElement(\"div\",null,React.createElement(\"form\",{className:\"form-inline search-form\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{className:\"form-control-plaintext searchIcon\",type:\"text\",placeholder:\"search\",defaultValue:searchValue,onChange:function onChange(e){return handleSearchKeyword(e.target.value);}}),React.createElement(\"span\",{className:\"d-sm-none mobile-search\",onClick:toggleBtn},React.createElement(Search,null)),React.createElement(\"div\",{className:\"Typeahead-menu custom-scrollbar\",id:\"search-outer\"},searchValue?searchValue.map(function(data,index){return React.createElement(\"div\",{className:\"ProfileCard u-cf\",key:index},React.createElement(\"div\",{className:\"ProfileCard-avatar\"},React.createElement(data.icon,null)),React.createElement(\"div\",{className:\"ProfileCard-details\"},React.createElement(\"div\",{className:\"ProfileCard-realName\"},React.createElement(Link,{to:\"\".concat(process.env.PUBLIC_URL).concat(data.path),className:\"realname\",onClick:removeFix},data.title))));}):''),React.createElement(\"div\",{className:\"Typeahead-menu empty-menu\"},React.createElement(\"div\",{className:\"tt-dataset tt-dataset-0\"},React.createElement(\"div\",{className:\"EmptyMessage\"},\"Opps!! There are no result found.\")))))));};export default SearchHeader;","map":{"version":3,"sources":["/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/src/components/common/header-component/searchHeader.js"],"names":["React","useState","Fragment","useEffect","useCallback","MENUITEMS","Link","Search","SearchHeader","mainmenu","searchValue","setsearchValue","searchOpen","setsearchOpen","escFunction","event","keyCode","document","addEventListener","removeEventListener","handleSearchKeyword","keyword","addFix","removeFix","items","filter","menuItems","title","toLowerCase","includes","type","push","children","subItems","icon","suSubItems","checkSearchResultEmpty","length","querySelector","classList","add","remove","body","toggleBtn","e","target","value","map","data","index","process","env","PUBLIC_URL","path"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect, useCallback } from 'react';\nimport { MENUITEMS } from '../../../constant/menu';\nimport { Link } from 'react-router-dom';\nimport { Search } from 'react-feather';\n\nconst SearchHeader = () => {\n    const mainmenu = MENUITEMS;\n\n    const [searchValue, setsearchValue] = useState('');\n    const [searchOpen, setsearchOpen] = useState(false);\n\n    const escFunction = useCallback((event) => {\n        if (event.keyCode === 27) {\n            //Do whatever when esc is pressed\n            setsearchOpen(false)\n            setsearchValue('')\n        }\n    }, []);\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", escFunction, false);\n        return () => {\n            document.removeEventListener(\"keydown\", escFunction, false);\n        };\n    });\n\n    const handleSearchKeyword = (keyword) => {\n        keyword ? addFix() : removeFix()\n        const items = [];\n        setsearchValue(keyword)\n        // eslint-disable-next-line\n        mainmenu.filter(menuItems => {\n            if (menuItems.title.toLowerCase().includes(keyword) && menuItems.type === 'link') {\n                items.push(menuItems);\n            }\n            if (!menuItems.children) return false\n            // eslint-disable-next-line\n            menuItems.children.filter(subItems => {\n                // eslint-disable-next-line\n                if (subItems.title.toLowerCase().includes(keyword) && subItems.type === 'link') {\n                    subItems.icon = menuItems.icon\n                    items.push(subItems);\n                    // eslint-disable-next-line\n                }\n                if (!subItems.children) return false\n                // eslint-disable-next-line\n                subItems.children.filter(suSubItems => {\n                    if (suSubItems.title.toLowerCase().includes(keyword)) {\n                        suSubItems.icon = menuItems.icon\n                        items.push(suSubItems);\n                    }\n                })\n            })\n            checkSearchResultEmpty(items)\n            setsearchValue(items);\n        });\n    }\n\n    const checkSearchResultEmpty = (items) => {\n        if (!items.length) {\n            document.querySelector(\".empty-menu\").classList.add('is-open');\n        } else {\n            document.querySelector(\".empty-menu\").classList.remove('is-open');\n        }\n    }\n\n    const addFix = () => {\n        document.querySelector(\".Typeahead-menu\").classList.add('is-open');\n        document.body.classList.add(\"offcanvas\");\n    }\n\n    const removeFix = () => {\n        setsearchValue('')\n        document.querySelector(\".Typeahead-menu\").classList.remove('is-open');\n        document.body.classList.remove(\"offcanvas\");\n    }\n\n    const toggleBtn = () => {\n        if (searchOpen) {\n            setsearchOpen(!searchOpen);\n            document.querySelector('.searchIcon').classList.add('open');\n        } else {\n            setsearchOpen(!searchOpen);\n            document.querySelector('.searchIcon').classList.remove('open');\n        }\n    }\n\n\n    return (\n        <Fragment>\n            <div>\n                <form className=\"form-inline search-form\">\n                    <div className=\"form-group\">\n                        <input\n                            className=\"form-control-plaintext searchIcon\"\n                            type=\"text\"\n                            placeholder=\"search\"\n                            defaultValue={searchValue}\n                            onChange={(e) => handleSearchKeyword(e.target.value)}\n                        />\n                        <span className=\"d-sm-none mobile-search\" onClick={toggleBtn}>\n                            <Search />\n                        </span>\n\n                        <div className=\"Typeahead-menu custom-scrollbar\" id=\"search-outer\">\n                            {searchValue ?\n                                searchValue.map((data, index) => {\n                                    return (\n                                        <div className=\"ProfileCard u-cf\" key={index}>\n                                            <div className=\"ProfileCard-avatar\">\n                                                <data.icon />\n                                            </div>\n                                            <div className=\"ProfileCard-details\">\n                                                <div className=\"ProfileCard-realName\">\n                                                    <Link\n                                                        to={`${process.env.PUBLIC_URL}${data.path}`}\n                                                        className=\"realname\"\n                                                        onClick={removeFix}\n                                                    >\n                                                        {data.title}\n                                                    </Link>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    )\n                                }) : ''\n                            }\n                        </div>\n                        <div className=\"Typeahead-menu empty-menu\">\n                            <div className=\"tt-dataset tt-dataset-0\">\n                                <div className=\"EmptyMessage\">\n                                    Opps!! There are no result found.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </Fragment>\n    );\n};\n\nexport default SearchHeader;"]},"metadata":{},"sourceType":"module"}