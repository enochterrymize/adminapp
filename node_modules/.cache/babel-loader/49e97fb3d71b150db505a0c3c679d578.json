{"ast":null,"code":"import _toConsumableArray from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import ReactTable from'react-table';import'react-table/react-table.css';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';export var Datatable=/*#__PURE__*/function(_Component){_inherits(Datatable,_Component);function Datatable(props){var _this;_classCallCheck(this,Datatable);_this=_possibleConstructorReturn(this,_getPrototypeOf(Datatable).call(this,props));_this.selectRow=function(e,i){if(!e.target.checked){_this.setState({checkedValues:_this.state.checkedValues.filter(function(item,j){return i!==item;})});}else{_this.state.checkedValues.push(i);_this.setState({checkedValues:_this.state.checkedValues});}};_this.handleRemoveRow=function(){var selectedValues=_this.state.checkedValues;var updatedData=_this.state.myData.filter(function(el){return selectedValues.indexOf(el.id)<0;});_this.setState({myData:updatedData});toast.success(\"Successfully Deleted !\");};_this.renderEditable=function(cellInfo){return React.createElement(\"div\",{style:{backgroundColor:\"#fafafa\"},contentEditable:true,suppressContentEditableWarning:true,onBlur:function onBlur(e){var data=_toConsumableArray(_this.state.myData);data[cellInfo.index][cellInfo.column.id]=e.target.innerHTML;_this.setState({myData:data});},dangerouslySetInnerHTML:{__html:_this.state.myData[cellInfo.index][cellInfo.column.id]}});};_this.state={checkedValues:[],myData:_this.props.myData};return _this;}_createClass(Datatable,[{key:\"Capitalize\",value:function Capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1);}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,pageSize=_this$props.pageSize,myClass=_this$props.myClass,multiSelectOption=_this$props.multiSelectOption,pagination=_this$props.pagination;var myData=this.state.myData;var columns=[];for(var key in myData[0]){var editable=this.renderEditable;if(key===\"image\"){editable=null;}if(key===\"status\"){editable=null;}if(key===\"avtar\"){editable=null;}if(key===\"vendor\"){editable=null;}if(key===\"skill\"){editable=null;}if(key===\"user\"){editable=null;}columns.push({Header:React.createElement(\"b\",null,this.Capitalize(key.toString())),accessor:key,Cell:editable,style:{textAlign:'center'}});}if(multiSelectOption===true){columns.push({Header:React.createElement(\"button\",{className:\"btn btn-danger btn-sm btn-delete mb-0 b-r-4\",onClick:function onClick(e){if(window.confirm('Are you sure you wish to delete this item?'))_this2.handleRemoveRow();}},\"Delete\"),id:'delete',accessor:function accessor(str){return\"delete\";},sortable:false,style:{textAlign:'center'},Cell:function Cell(row){return React.createElement(\"div\",null,React.createElement(\"span\",null,React.createElement(\"input\",{type:\"checkbox\",name:row.original.id,defaultChecked:_this2.state.checkedValues.includes(row.original.id),onChange:function onChange(e){return _this2.selectRow(e,row.original.id);}})));}});}else{columns.push({Header:React.createElement(\"b\",null,\"Action\"),id:'delete',accessor:function accessor(str){return\"delete\";},Cell:function Cell(row){return React.createElement(\"div\",null,React.createElement(\"span\",{onClick:function onClick(){if(window.confirm('Are you sure you wish to delete this item?')){var data=myData;data.splice(row.index,1);_this2.setState({myData:data});}toast.success(\"Successfully Deleted !\");}},React.createElement(\"i\",{className:\"fa fa-trash\",style:{width:35,fontSize:16,padding:11,color:'#e4566e'}})),React.createElement(\"span\",null,React.createElement(\"i\",{className:\"fa fa-pencil\",style:{width:35,fontSize:16,padding:11,color:'rgb(40, 167, 69)'}})));},style:{textAlign:'center'},sortable:false});}return React.createElement(Fragment,null,React.createElement(ReactTable,{data:myData,columns:columns,defaultPageSize:pageSize,className:myClass,showPagination:pagination}),React.createElement(ToastContainer,null));}}]);return Datatable;}(Component);export default Datatable;","map":{"version":3,"sources":["/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/src/components/common/datatable.js"],"names":["React","Component","Fragment","ReactTable","ToastContainer","toast","Datatable","props","selectRow","e","i","target","checked","setState","checkedValues","state","filter","item","j","push","handleRemoveRow","selectedValues","updatedData","myData","el","indexOf","id","success","renderEditable","cellInfo","backgroundColor","data","index","column","innerHTML","__html","str","charAt","toUpperCase","slice","pageSize","myClass","multiSelectOption","pagination","columns","key","editable","Header","Capitalize","toString","accessor","Cell","style","textAlign","window","confirm","sortable","row","original","includes","splice","width","fontSize","padding","color"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport class Datatable extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            checkedValues: [],\n            myData: this.props.myData\n        }\n    }\n\n    selectRow = (e, i) => {\n        if (!e.target.checked) {\n            this.setState({\n                checkedValues: this.state.checkedValues.filter((item, j) => i !== item)\n            });\n        } else {\n            this.state.checkedValues.push(i);\n            this.setState({\n                checkedValues: this.state.checkedValues\n            })\n        }\n    }\n\n    handleRemoveRow = () => {\n        const selectedValues = this.state.checkedValues;\n        const updatedData = this.state.myData.filter(function (el) {\n            return selectedValues.indexOf(el.id) < 0;\n        });\n        this.setState({\n            myData: updatedData\n        })\n        toast.success(\"Successfully Deleted !\")\n    };\n\n    renderEditable = (cellInfo) => {\n        return (\n            <div\n                style={{ backgroundColor: \"#fafafa\" }}\n                contentEditable\n                suppressContentEditableWarning\n                onBlur={e => {\n                    const data = [...this.state.myData];\n                    data[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;\n                    this.setState({ myData: data });\n                }}\n                dangerouslySetInnerHTML={{\n                    __html: this.state.myData[cellInfo.index][cellInfo.column.id]\n                }}\n            />\n        );\n    }\n\n    Capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    render() {\n        const { pageSize, myClass, multiSelectOption, pagination } = this.props;\n        const { myData } = this.state\n\n        const columns = [];\n        for (var key in myData[0]) {\n\n            let editable = this.renderEditable\n            if (key === \"image\") {\n                editable = null;\n            }\n            if (key === \"status\") {\n                editable = null;\n            }\n            if (key === \"avtar\") {\n                editable = null;\n            }\n            if (key === \"vendor\") {\n                editable = null;\n            }\n            if (key === \"skill\") {\n                editable = null;\n            }\n            if (key === \"user\") {\n                editable = null;\n            }\n\n            columns.push(\n                {\n                    Header: <b>{this.Capitalize(key.toString())}</b>,\n                    accessor: key,\n                    Cell: editable,\n                    style: {\n                        textAlign: 'center'\n                    }\n                });\n        }\n\n        if (multiSelectOption === true) {\n            columns.push(\n                {\n                    Header: <button className=\"btn btn-danger btn-sm btn-delete mb-0 b-r-4\"\n                        onClick={\n                            (e) => {\n                                if (window.confirm('Are you sure you wish to delete this item?'))\n                                    this.handleRemoveRow()\n                            }}>Delete</button>,\n                    id: 'delete',\n                    accessor: str => \"delete\",\n                    sortable: false,\n                    style: {\n                        textAlign: 'center'\n                    },\n                    Cell: (row) => (\n                        <div>\n                            <span >\n                                <input type=\"checkbox\" name={row.original.id} defaultChecked={this.state.checkedValues.includes(row.original.id)}\n                                    onChange={e => this.selectRow(e, row.original.id)} />\n                            </span>\n                        </div>\n                    )\n                }\n            )\n        } else {\n            columns.push(\n                {\n                    Header: <b>Action</b>,\n                    id: 'delete',\n                    accessor: str => \"delete\",\n                    Cell: (row) => (\n                        <div>\n                            <span onClick={() => {\n                                if (window.confirm('Are you sure you wish to delete this item?')) {\n                                    let data = myData;\n                                    data.splice(row.index, 1);\n                                    this.setState({ myData: data });\n                                }\n                                toast.success(\"Successfully Deleted !\")\n\n                            }}>\n                                <i className=\"fa fa-trash\" style={{ width: 35, fontSize: 16, padding: 11, color: '#e4566e' }}\n                                ></i>\n                            </span>\n\n                            <span><i className=\"fa fa-pencil\" style={{ width: 35, fontSize: 16, padding: 11, color: 'rgb(40, 167, 69)' }}></i></span>\n                        </div>\n                    ),\n                    style: {\n                        textAlign: 'center'\n                    },\n                    sortable: false\n                }\n            )\n        }\n\n        return (\n            <Fragment>\n                <ReactTable\n                    data={myData}\n                    columns={columns}\n                    defaultPageSize={pageSize}\n                    className={myClass}\n                    showPagination={pagination}\n                />\n                <ToastContainer />\n            </Fragment>\n        )\n    }\n}\n\nexport default Datatable;"]},"metadata":{},"sourceType":"module"}