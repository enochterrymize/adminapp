{"ast":null,"code":"import _toConsumableArray from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{GET_ALL_PRODUCT,SELECTED_PRODUCT,ADD_TO_CART,REMOVE_FROM_CART,CHANGE_CURRENCY,DECREMENT_QTY,GET_SINGLE_ITEM,GET_LIST}from'../constant/actionTypes';import Products from'../data/products';var INIT_STATE={productItems:Products,products:Products,symbol:'$',cart:[],list:[],singleItem:[],search:[]};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INIT_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_ALL_PRODUCT:return _objectSpread({},state);case GET_LIST:return _objectSpread({},state,{productItems:Products});case SELECTED_PRODUCT:var updatedStatus=state.productItems.reduce(function(cartAcc,item){if(item.id===action.payload.productId){cartAcc.push(_objectSpread({},item,{status:action.payload}));}else{cartAcc.push(item);}return cartAcc;},[]);return _objectSpread({},state,{productItems:updatedStatus});case GET_SINGLE_ITEM:// eslint-disable-next-line\nvar selectedItem=state.productItems.filter(function(item){return item.id==action.payload.productId;});return _objectSpread({},state,{singleItem:selectedItem[0]});case ADD_TO_CART:var productId=action.payload.product.id;if(state.cart.findIndex(function(product){return product.id===productId;})!==-1){var cart=state.cart.reduce(function(cartAcc,product){if(product.id===productId){cartAcc.push(_objectSpread({},product,{qty:product.qty+1,sum:product.price*(product.qty+1)}));// Increment qty\n}else{cartAcc.push(product);}return cartAcc;},[]);return _objectSpread({},state,{cart:cart});}return _objectSpread({},state,{cart:[].concat(_toConsumableArray(state.cart),[_objectSpread({},action.payload.product,{qty:action.payload.qty,sum:action.payload.product.price*action.payload.qty})])});case DECREMENT_QTY:if(state.cart.findIndex(function(product){return product.id===action.productId;})!==-1){var _cart=state.cart.reduce(function(cartAcc,product){if(product.id===action.productId&&product.qty>1){cartAcc.push(_objectSpread({},product,{qty:product.qty-1,sum:product.price*(product.qty-1)}));// Decrement qty\n}else{cartAcc.push(product);}return cartAcc;},[]);return _objectSpread({},state,{cart:_cart});}return _objectSpread({},state,{cart:[].concat(_toConsumableArray(state.cart),[_objectSpread({},action.product,{qty:action.qty,sum:action.product.price*action.qty})])});case REMOVE_FROM_CART:return{cart:state.cart.filter(function(item){return item.id!==action.product_id.id;})};case CHANGE_CURRENCY:return _objectSpread({},state,{symbol:action.symbol});default:return state;}});","map":{"version":3,"sources":["/Volumes/Terry HD/workspace/projects_reactjs/admin/endless-app/src/reducers/ecommerce.reducer.js"],"names":["GET_ALL_PRODUCT","SELECTED_PRODUCT","ADD_TO_CART","REMOVE_FROM_CART","CHANGE_CURRENCY","DECREMENT_QTY","GET_SINGLE_ITEM","GET_LIST","Products","INIT_STATE","productItems","products","symbol","cart","list","singleItem","search","state","action","type","updatedStatus","reduce","cartAcc","item","id","payload","productId","push","status","selectedItem","filter","product","findIndex","qty","sum","price","product_id"],"mappings":"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","sourcesContent":["import {\n    GET_ALL_PRODUCT,\n    SELECTED_PRODUCT,\n    ADD_TO_CART,\n    REMOVE_FROM_CART,\n    CHANGE_CURRENCY,\n    DECREMENT_QTY,\n    GET_SINGLE_ITEM,\n    GET_LIST\n} from '../constant/actionTypes';\n\nimport Products from '../data/products';\n\nconst INIT_STATE = {\n    productItems: Products,\n    products: Products,\n    symbol: '$',\n    cart: [],\n    list: [],\n    singleItem: [],\n    search: []\n};\n\nexport default (state = INIT_STATE, action) => {\n\n    switch (action.type) {\n\n        case GET_ALL_PRODUCT:\n            return { ...state };\n\n        case GET_LIST:\n            return { ...state, productItems: Products };\n\n        case SELECTED_PRODUCT:\n            const updatedStatus = state.productItems.reduce((cartAcc, item) => {\n                if (item.id === action.payload.productId) {\n                    cartAcc.push({ ...item, status: action.payload })\n                } else {\n                    cartAcc.push(item)\n                }\n                return cartAcc;\n            }, [])\n            return { ...state, productItems: updatedStatus };\n\n        case GET_SINGLE_ITEM:\n            // eslint-disable-next-line\n            const selectedItem = state.productItems.filter(item => item.id == action.payload.productId)\n            return { ...state, singleItem: selectedItem[0] };\n\n        case ADD_TO_CART:\n            const productId = action.payload.product.id\n            if (state.cart.findIndex(product => product.id === productId) !== -1) {\n                const cart = state.cart.reduce((cartAcc, product) => {\n                    if (product.id === productId) {\n                        cartAcc.push({ ...product, qty: product.qty + 1, sum: (product.price) * (product.qty + 1) }) // Increment qty\n                    } else {\n                        cartAcc.push(product)\n                    }\n                    return cartAcc\n                }, [])\n\n                return { ...state, cart }\n            }\n\n            return { ...state, cart: [...state.cart, { ...action.payload.product, qty: action.payload.qty, sum: (action.payload.product.price) * action.payload.qty }] }\n\n        case DECREMENT_QTY:\n            if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\n                const cart = state.cart.reduce((cartAcc, product) => {\n                    if (product.id === action.productId && product.qty > 1) {\n                        cartAcc.push({ ...product, qty: product.qty - 1, sum: (product.price) * (product.qty - 1) }) // Decrement qty\n                    } else {\n                        cartAcc.push(product)\n                    }\n                    return cartAcc\n                }, [])\n\n                return { ...state, cart }\n            }\n\n            return { ...state, cart: [...state.cart, { ...action.product, qty: action.qty, sum: action.product.price * action.qty }] }\n\n        case REMOVE_FROM_CART:\n            return {\n                cart: state.cart.filter(item => item.id !== action.product_id.id)\n            }\n\n        case CHANGE_CURRENCY:\n            return {\n                ...state,\n                symbol: action.symbol\n            };\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}